<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ajax 실습</title>
<script type="text/javascript">
	var xhttp;
	
	function createHttpRequest() {
		xhttp = new XMLHttpRequest();
	}
	
	function mySend() {
		createHttpRequest();
		xhttp.onreadystatechange = callFunction;
		// 파라미터를 GET방식으로 요청하기 위해 sampleText.jsp파일에 쿼리스트링을 추가함 
		xhttp.open("GET", "sampleText.jsp?userid=쏭쓰&passwd=test", true);
		// GET방식의 send()는 파라미터로 null값을 지정함 
		xhttp.send(null);
	}
	
	function callFunction() {
		if(xhttp.readyState == 4) {
			if(xhttp.status == 200) {
				// sampleText.jsp에서 응답하는 데이터는 일반 텍스트 문자열이기 때문에 responseText프로퍼티로 받아서 처리함 
				var responseData = xhttp.responseText;
				document.getElementById("result").innerHTML = responseData;
			}
		}
	}
</script>
</head>
<body>
	HTML파일에서 파라미터 값을 가지고 서버 측의 JSP에 요청하는 예제<br>
	<button onclick="mySend()">파일 수신</button>
	<div id="result"></div>
	<ul>
		<li>요청받은 JSP에서는 파라미터 값을 가지고 동적인 응답 데이터를 작성하여 클라이언트로 반환함</li>
		<li>이때 서버가 응답하는 데이터는 JSP가 실행하면서 동적으로 생성된 일반 텍스트 데이터임 </li>
		<li>[파일 수신]버튼을 클릭하면 sample03_4.html은 지정된 파라미터를 가지고 Ajax통신을 이용하여 서버에 sampleText.jsp파일을 요청함</li>
		<li>JSP로 요청했기 때문에 서버에서는 동적인 데이터를 클라이언트로 반환함</li>
	</ul>
</body>
</html>